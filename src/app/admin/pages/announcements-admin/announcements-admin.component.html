<div class="announcement-wrapper">
  <div class="announcement-card-container">
    <h2>ðŸ“¢ Enviar Comunicado</h2>

    <form [formGroup]="announcementForm" (ngSubmit)="submit()">
      <mat-form-field appearance="fill">
        <mat-label>Mensaje</mat-label>
        <textarea matInput formControlName="message" rows="3"></textarea>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Audiencia</mat-label>
        <mat-select formControlName="audience">
          <mat-option value="doctors">MÃ©dicos</mat-option>
          <mat-option value="patients">Pacientes</mat-option>
        </mat-select>
      </mat-form-field>

      <button mat-raised-button class="send-button" type="submit" [disabled]="announcementForm.invalid">
        Publicar Comunicado
      </button>
    </form>

    <div class="sent-announcements">
      <h3>ðŸ“„ Comunicados Enviados</h3>
      <mat-card *ngFor="let ann of announcements">
        <mat-card-title>{{ ann.message }}</mat-card-title>
        <mat-card-subtitle>
          Para: {{ ann.audience === 'doctors' ? 'MÃ©dicos' : 'Pacientes' }} â€”
          {{ ann.createdAt | date:'short' }}
        </mat-card-subtitle>
      </mat-card>
    </div>
  </div>
</div>
